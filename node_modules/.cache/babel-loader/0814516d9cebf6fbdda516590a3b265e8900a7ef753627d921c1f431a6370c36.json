{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"https://localhost:7055\";\nconst api = axios.create({\n  baseURL: API_URL,\n  withCredentials: true\n});\nexport const createUser = async user => {\n  try {\n    let response = await api.post(\"/User/CreateUser\", user);\n    console.log(response);\n    return response;\n  } catch (e) {\n    console.log(e);\n  }\n};\nexport const loginUser = async user => {\n  try {\n    let response = await api.post(\"/User/LoginByEmail\", user);\n    console.log(response);\n    return response;\n  } catch (e) {\n    return e.status;\n  }\n};\n\n//Валидация\nexport const isFormValid = (user, passwordRepeat) => {\n  var reply = {\n    status: true,\n    name: false,\n    surname: false,\n    email: false,\n    password: false,\n    passwordRepeat: false\n  };\n  if (!validateName(user === null || user === void 0 ? void 0 : user.name)) {\n    reply.name = true;\n    reply.status = false;\n  }\n  if (!validateSurname(user === null || user === void 0 ? void 0 : user.surname)) {\n    reply.surname = true;\n    reply.status = false;\n  }\n  if (!validateEmail(user === null || user === void 0 ? void 0 : user.email)) {\n    reply.email = true;\n    reply.status = false;\n  }\n  if (!validatePassword(user === null || user === void 0 ? void 0 : user.password)) {\n    reply.password = true;\n    reply.status = false;\n  }\n  if (!validatePasswordRepeat(user === null || user === void 0 ? void 0 : user.password, passwordRepeat)) {\n    reply.passwordRepeat = true;\n    reply.status = false;\n  }\n  return reply;\n};\nexport const isFormMbtiValid = user => {\n  var reply = {\n    status: true,\n    mbti: false\n  };\n  if (!validateMBTI(user === null || user === void 0 ? void 0 : user.mbtiType)) {\n    reply.mbti = true;\n    reply.status = false;\n  }\n  return reply;\n};\n\n//Валидация имени\nconst validateName = name => {\n  var re = /^[\\u0400-\\u04FF]+$/;\n  return re.test(name) && name[0] == name[0].toUpperCase();\n};\n\n//Валидация Фамилии\nconst validateSurname = surname => {\n  var re = /^[\\u0400-\\u04FF]+$/;\n  return re.test(surname) && surname[0] == surname[0].toUpperCase();\n};\n\n//Валидация email\nconst validateEmail = email => {\n  return email.match(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n};\n\n//Валидация password\nconst validatePassword = password => {\n  var re = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-zA-Z]).{8,}$/;\n  return re.test(password);\n};\n\n//Проверка повтора пароля\nconst validatePasswordRepeat = (password, passwordRepeat) => {\n  return password == passwordRepeat && !!passwordRepeat.length;\n};\n\n//Проверка mbti\nconst validateMBTI = mbti => {\n  var re = /^[A-Z]+$/;\n  return re.test(mbti) && mbti.length == 4;\n};","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","withCredentials","createUser","user","response","post","console","log","e","loginUser","status","isFormValid","passwordRepeat","reply","name","surname","email","password","validateName","validateSurname","validateEmail","validatePassword","validatePasswordRepeat","isFormMbtiValid","mbti","validateMBTI","mbtiType","re","test","toUpperCase","match","length"],"sources":["C:/Users/sw1rl/Documents/Projects/cogni/CogniReact/src/services/auth.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst API_URL = \"https://localhost:7055\";\r\n\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    withCredentials: true,\r\n});\r\n\r\nexport const createUser = async (user) => {\r\n    try {\r\n        let response = await api.post(\"/User/CreateUser\", user);\r\n        console.log(response);\r\n        return response;\r\n    } catch(e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport const loginUser = async (user) => {\r\n    try {\r\n        let response = await api.post(\"/User/LoginByEmail\", user);\r\n        console.log(response);\r\n        return response;\r\n    } catch(e) {\r\n        return e.status;\r\n    }\r\n}\r\n\r\n//Валидация\r\nexport const isFormValid = (user, passwordRepeat) => {\r\n    var reply = {status: true, name: false, surname: false, email: false, password: false, passwordRepeat: false};\r\n\r\n    if (!validateName(user?.name)) {\r\n        reply.name = true;\r\n        reply.status = false;\r\n    }\r\n    if (!validateSurname(user?.surname)) {\r\n        reply.surname = true;\r\n        reply.status = false;\r\n    }\r\n    if (!validateEmail(user?.email)) {\r\n        reply.email = true;\r\n        reply.status = false;\r\n    }\r\n    if (!validatePassword(user?.password)) {\r\n        reply.password = true;\r\n        reply.status = false;\r\n    }\r\n    if (!validatePasswordRepeat(user?.password, passwordRepeat)) {\r\n        reply.passwordRepeat = true;\r\n        reply.status = false;\r\n    }\r\n    return reply;\r\n};\r\n\r\nexport const isFormMbtiValid = (user) => {\r\n    var reply = {status: true, mbti: false};\r\n    if (!validateMBTI(user?.mbtiType)) {\r\n        reply.mbti = true;\r\n        reply.status = false;\r\n    }\r\n    return reply;\r\n};\r\n\r\n\r\n\r\n//Валидация имени\r\nconst validateName = (name) => {\r\n    var re = /^[\\u0400-\\u04FF]+$/;\r\n    return re.test(name) && name[0] == name[0].toUpperCase();\r\n};\r\n\r\n//Валидация Фамилии\r\nconst validateSurname = (surname) => {\r\n    var re = /^[\\u0400-\\u04FF]+$/;\r\n    return re.test(surname) && surname[0] == surname[0].toUpperCase();\r\n};\r\n\r\n//Валидация email\r\nconst validateEmail = (email) => {\r\n    return email.match(\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    );\r\n};\r\n\r\n//Валидация password\r\nconst validatePassword = (password) => {\r\n    var re = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-zA-Z]).{8,}$/;\r\n    return re.test(password);\r\n};\r\n\r\n//Проверка повтора пароля\r\nconst validatePasswordRepeat = (password, passwordRepeat) => {\r\n    return password == passwordRepeat && !!passwordRepeat.length;\r\n};\r\n\r\n//Проверка mbti\r\nconst validateMBTI = (mbti) => {\r\n    var re = /^[A-Z]+$/;\r\n    return re.test(mbti) && mbti.length == 4 ;\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}